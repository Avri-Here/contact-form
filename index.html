<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,700,900&display=swap"
      rel="stylesheet"
    />
    <link rel="shortcut icon" href="https://img.icons8.com/3d-fluency/94/null/globe-africa.png" />
    <link rel="stylesheet" href="fonts/icomoon/style.css" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />

    <title>Contact Form !</title>
  </head>
  <body>
    <div class="content">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-10">
            <div class="row justify-content-center">
              <div class="col-md-6">
                <h3 class="heading mb-4">Let's talk about everything!</h3>
                <p>
                  Send me a message or requests for any topic, please attach the
                  real email address so that I can get back to you as quickly as
                  possible.
                </p>

                <p>
                  <img
                    src="images/undraw-contact.svg"
                    alt="Image"
                    class="img-fluid"
                  />
                </p>
              </div>
              <div class="col-md-6">
                <form class="mb-5" id="contactForm" name="contactForm">
                  <div class="row">
                    <div class="col-md-12 form-group">
                      <input
                        required
                        type="text"
                        class="form-control"
                        name="name"
                        id="name"
                        placeholder="Your name"
                      />
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-12 form-group">
                      <input
                        required
                        type="tel"
                        class="form-control"
                        name="phone"
                        id="phone"
                        placeholder="Your phone"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 form-group">
                      <input
                        required
                        type="email"
                        class="form-control"
                        name="email"
                        id="email"
                        placeholder="Email"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 form-group">
                      <textarea
                        required
                        class="form-control"
                        name="message"
                        id="message"
                        cols="30"
                        rows="7"
                        placeholder="Your message"
                      ></textarea>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <input
                        type="submit"
                        value="Send Message"
                        class="btn btn-primary rounded-0 py-2 px-4"
                      />
                      <span class="submitting"></span>
                    </div>
                  </div>
                </form>

                <div id="form-message-warning mt-4"></div>
                <div id="form-message-success">
                  Your message was sent, thank you!
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      document.getElementById("contactForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        const email = document.getElementById("email").value;
        const message = document.getElementById("name").value;

        axios
          .post("https://sure-cook-production.up.railway.app/SendMeEmail", {
            nameRef: name,
            LastRef: "",
            email: email,
            Phone: phone,
            message: message,
          })
          .then((res) => {
            if (res.status === 200) {
              Swal.fire(
                "Success !",
                "!   ההודעה נשלחה למנהל המערכת ",
                "success"
              );
              setTimeout(() => {
                window.location.replace("https://github.com/Avri-Here");
              }, 3500);
            } else {
              Swal.fire({
                icon: "error",
                title: "Oops...",
                text: "Something went wrong!",
              });
            }
          })
          .catch((err) => {
            console.log(err);
            Swal.fire({
              icon: "error",
              title: "Oops...",
              text: "Something went wrong!",
            });
          });
      });
    </script>
  </body>
</html>
